<div id="fb-root"></div>
<script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id="topbar">
  <div id="topbar-content">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/enigma">Enigma</a></li>
      <li><a href="/balls">Applet</a></li>
      <li><a href="/weather">Weather</a></li>
      <li><a href="/blog">Blog</a></li>
    </ul>
  </div>
</div>

<div id="container">

  <div id="header">
    <h1><a href="/">Weather in <%= @location %></a></h1>
  </div>

  <div id="rightbar">
    <h2>Conditions</h2>

    <p>
      <img class="left-float" src="<%= @weather_image_src %>" alt="<%= @weather_description %>"/>
      <%= @weather_description %>
    </p>
  </div>

  <div id="content">
    <p>Your IP is <%= @ip %> - this gives an approximate location of <%= @location %> from
      <a href="http://www.worldweatheronline.com/free-weather-feed.aspx">www.worldweatheronline.com</a></p>

    <p>The weather in this area is:<br/>
    
    <table class="weather-table">
      <tr>
        <th>Stat</th>
        <th>Value</th>
      </tr>
      <tr>
        <td>Current Temperature</td>
        <td><%= @temp %>°C</td>
      </tr>
      <tr>
        <td>Max Temperature</td>
        <td><%= @max_temp %>°C</td>
      </tr>
      <tr>
        <td>Min Temperature</td>
        <td><%= @min_temp %>°C</td>
      </tr>
      <tr>
        <td>Wind Speed</td>
        <td><%= @wind_speed %>mph</td>
      </tr>
      <tr>
        <td>Wind Direction</td>
        <td><%= @wind_direction %></td>
      </tr>
      <tr>
        <td>Cloud Cover</td>
        <td><%= @cloud_cover %>%</td>
      </tr>
      <tr>
        <td>Precipitation</td>
        <td><%= @precipitation %>mm</td>
      </tr>
    </table>
  </div>

  <div id="footer">
    <div id="footer-right">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/enigma">Enigma</a></li>
        <li><a href="/balls">Applet</a></li>
        <li><a href="/weather">Weather</a></li>
        <li><a href="/blog">Blog</a></li>
      </ul>
    </div>

    <div class="g-plusone" data-width="450"></div>
    <div class="fb-like" data-href="http://dynomike.co.uk/enigma" data-send="false" data-width="450" data-show-faces="false"></div>
  </div>
  
</div>

<script type="text/javascript">
    window.___gcfg = {lang: 'en-GB'};

    (function() {
        var po = document.createElement('script');
        po.type = 'text/javascript';
        po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(po, s);
    })();
</script>